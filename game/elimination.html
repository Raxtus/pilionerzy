<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Eliminacje</title>
	<link href="data/elimination/styles.css" type="text/css" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=AM_CHTML"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<script src="./coms.js"></script>
	<script>
		var questions = [
			{ pyt: "", A: "", B: "", C: "", D: "", odp: "" },
			{ pyt: "Uszereguj liczby od najmniejszej do największej", A: "4", B: "2", C: "3", D: "1", odp: "DBCA" },
			{ pyt: "Uszereguj bryły geometryczne, zaczynając od tej, która ma najwięcej wierzchołków.", A: "ostrosłup czworokątny", B: "czworościan", C: "graniastosłup sześciokątny", D: "sześcian", odp: "CDAB" },
			{ pyt: "Ułóż w kolejności podpowiedzi: nauka, część poroży jelenia, brak połysku, przedmiot rozmowy", A: "mat", B: "temat", C: "tyka", D: "matematyka", odp: "DCAB" },
			{ pyt: "Uporządkuj łacińskie liczebniki w kolejności: 100, 1000, 90, 6", A: "mille", B: "centum", C: "sex", D: "nonaginta", odp: "BADC" },
			{ pyt: "Połącz działania z ich wynikami w kolejności:  -27, -8,  4, 9", A: "2 do potęgi drugiej", B: "-2 do potęgi trzeciej", C: "3 do potęgi drugiej", D: "-3 do potęgi trzeciej", odp: "DBAC" },
			{ pyt: "Dopasuj wyniki do działań w kolejności: 45, 90, 120, 125.", A: "30% z 400", B: "15% z 300", C: "25% z 500", D: "45% z 200", odp: "BDAC" },
			{ pyt: "Połącz wyrazy żeby powstały znane wyrażenia w kolejności: koło, trójkąt, kula, głupiec", A: "fortuny", B: "u nogi", C: "do kwadratu", D: "małżeński", odp: "ADBC" },
			{ pyt: "Przypisz podanym matematykom nazwę uczelni, którą ukończyli: Stefan Banach, Leonhard Euler, David Hilbert, Wacław Sierpiński", A: "Uniwersytet Bazylejski", B: "Politechnika Lwowska", C: "Uniwersytet Warszawski", D: "Uniwersytet Getyński", odp: "BADC" },
			{ pyt: "Przyporządkuj wzór na pole kolejno figurom: koło, trapez, romb, elipsa", A: "`\\pi r^2`", B: "`\\pi ab`", C: "`(a+b)/2 * h`", D: "`ah`", odp: "ACDB" },
			{ pyt: "Uporządkuj kolejno klasyczne średnie w kolejności od najmniejszej do największej.", A: "średnia arytmetyczna", B: "średnia kwadratowa", C: "średnia geometryczna", D: "średnia harmoniczna", odp: "DCAB" },
			{ pyt: "Uszereguj symbole matematyczne w kolejności: nieskończoność, silnia, nabla, równa się w przybliżeniu", A: "`\\nabla`", B: "`~`", C: "`\\infty`", D: "`!`", odp: "CDAB" },
			{ pyt: "Uszereguj kolejno według imion:  François,   Leonhard,  Emil, William następujących matematyków:", A: "Horner", B: "Viete", C: "Borel", D: "Euler", odp: "BDCA" },
			{ pyt: "Uszereguj uniwersytety od tego, który powstał najpóźniej:", A: "Uniwerystet Cambridge", B: "Uniwerystet Oksfordzki", C: "Uniwerystet Jagielloński", D: "Uniwerystet Boloński", odp: "CABD" },
			{ pyt: "Zapisane w języku rzymskim liczby uszereguj od najmniejszej <br>do największej:", A: "IC", B: "DI", C: "MCM", D: "CDL", odp: "ADBC" }
			];

		var numQ = 0;
		deleteEliminations()
		//putState(numQ);
		function nextQuestion() {
			numQ = numQ + 1;
			//putState(numQ);
			deleteEliminations()
		}
		function previousQuestion() {
			numQ = numQ - 1;
			//putState(numQ);
			deleteEliminations()
		}

		async function reveal() {

			//open serevr calls
			console.log("open");
			putStateOpen();
			console.log("opened");
			// send correct answear
			await new Promise(r => setTimeout(r, 100));
			postEliminationAnswer(questions[numQ].pyt + "</br></br>" + " A:" + questions[numQ].A + "</br>B:" + questions[numQ].B + "</br>C:" + questions[numQ].C + "</br>D:" + questions[numQ].D, questions[numQ].odp);

			var pointer = document.getElementsByTagName('p')
			pointer[1].innerHTML = questions[numQ].A;
			pointer[2].innerHTML = questions[numQ].B;
			pointer[3].innerHTML = questions[numQ].C;
			pointer[4].innerHTML = questions[numQ].D;
			document.getElementById('music').currentTime = 0;
			document.getElementById('music').play();
			MathJax.Hub.Queue(["Typeset", MathJax.Hub]);

		}

		function ques() {
			document.getElementById('qText').innerHTML = questions[numQ].pyt
		}

		function check() {

			putStateClose();

			var st = questions[numQ].odp;
			var ch = "";
			if (numQ >= 1) {
				var i = 0;
				var num = 0;
				var pos = "";
				for (i = 0; i < 4; i++) {
					ch = 'answer' + st.charAt(i);
					pixels = 320 + (i * 140);
					pos = String(pixels) + "px";
					document.getElementById(ch).style.top = pos;

				}
			}

		}

		document.onkeydown = checkKey;

		function checkKey(e) {
			e = e || window.event;

			if (e.keyCode == '37') {
				// left arrow
				previousQuestion();
				console.log(numQ);
			}
			else if (e.keyCode == '39') {
				// right arrow
				nextQuestion();
				console.log(numQ);
			}
			else if (e.keyCode == '81') {
				//q
				ques();
				console.log('q');
			}
			else if (e.keyCode == '82') {
				//r
				check();

				console.log('check');
			}
			else if (e.keyCode == '87') {
				//w
				reveal();
				console.log('reveal');
			}
			else if (e.keyCode == '67') {
				//c
				//window.location.href = "http://example.com/new_url?ans=".questions[numQ].odp ;
				console.log('reveal');
			}
			else if (e.keyCode == 84) {
				//t
				window.location.href = "./table.html";
			}

		}
	</script>
	<svg width="0" height="0">
		<defs id="defs2">
			<linearGradient id="blue">
				<stop style="stop-color:#0859a0;stop-opacity:1" offset="0" id="stop5241" />
				<stop style="stop-color:#063273;stop-opacity:1" offset="1" id="stop5243" />
			</linearGradient>
			<linearGradient id="yellow">
				<stop style="stop-color:#eeaa34;stop-opacity:1" offset="0" id="stop5241" />
				<stop style="stop-color:#c49a2f;stop-opacity:1" offset="1" id="stop5243" />
			</linearGradient>
			<linearGradient id="gray">
				<stop style="stop-color:#cccccc;stop-opacity:1" offset="0" id="stop1902" />
				<stop style="stop-color:#414141;stop-opacity:1" offset="1" id="stop1904" />
			</linearGradient>
		</defs>
		<polygon id="buttonSVG" points="20 140, 160 20, 1520 20, 1660 140, 1520 260, 160 260"
			style="stroke:url(#gray);stroke-width:10" />
	</svg>
</head>

<body>

	<!-- Question -->

	<div id="questionBox" onclick="ques()">
		<svg width="100%" height="100%" viewBox="0 0 1680 280">
			<use xlink:href="#buttonSVG"></use>
		</svg>
		<p id="qText">
		</p>
	</div>

	<!-- Answers -->
	<div id="answerA" class="answer">
		<svg width="100%" height="100%" viewBox="0 0 1680 280">
			<use xlink:href="#buttonSVG"></use>
			<text x="130" y="180">A:</text>
		</svg>
		<p>
		</p>
	</div>

	<div id="answerB" class="answer">
		<svg width="100%" height="100%" viewBox="0 0 1680 280">
			<use xlink:href="#buttonSVG"></use>
			<text x="130" y="180">B:</text>
		</svg>
		<p>
		</p>
	</div>

	<div id="answerC" class="answer">
		<svg width="100%" height="100%" viewBox="0 0 1680 280">
			<use xlink:href="#buttonSVG"></use>
			<text x="130" y="180">C:</text>
		</svg>
		<p>
		</p>
	</div>

	<div id="answerD" class="answer">
		<svg width="100%" height="100%" viewBox="0 0 1680 280">
			<use xlink:href="#buttonSVG"></use>
			<text x="130" y="180">D:</text>
		</svg>
		<p>
		</p>
	</div>



	<audio id="music" style="display:hidden;visibility:none;">
		<source src="music/fastestFinger.mp3" type="audio/mpeg">
	</audio>

</body>

</html>
